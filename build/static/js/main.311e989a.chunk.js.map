{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Error.js","components/Notification.js","components/Person.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","put","PersonForm","_ref","onAddPerson","newNameValue","onChangeNewName","newNumberValue","onChangeNewNumber","react_default","a","createElement","onSubmit","value","onChange","type","Error","message","className","Notification","Person","person","handleDeletePerson","name","number","onClick","Filter","filterValue","onFilterChange","Fragment","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","useEffect","personService","initialPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","errorMessage","setErrorMessage","showNotification","notification","setTimeout","showError","error","components_Notification","components_Error","components_Filter","event","target","components_PersonForm","preventDefault","newPerson","foundPerson","find","elem","undefined","window","confirm","updatedPerson","map","catch","filter","p","addedPerson","toLowerCase","startsWith","components_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.311e989a.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios\r\n        .post(baseUrl, newObject)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst deleteOperation = id => {\r\n    return axios\r\n        .delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios\r\n        .put(`${baseUrl}/${id}`, newObject)\r\n        .then(response => response.data)   \r\n}\r\n\r\nexport default { getAll, create, deleteOperation, update }","import React from 'react';\r\n\r\nconst PersonForm = ({onAddPerson, newNameValue, onChangeNewName, newNumberValue, onChangeNewNumber}) => {\r\n    return (\r\n        <form onSubmit={onAddPerson}>\r\n            <div>\r\n                Nimi: \r\n                <input \r\n                    value={newNameValue}\r\n                    onChange={onChangeNewName} />\r\n            </div>\r\n            <div>\r\n                Numero:\r\n                <input\r\n                    value={newNumberValue}\r\n                    onChange={onChangeNewNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">lisää</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Error = ({message}) => {\r\n    if (message === null || message === '') {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null || message === '') {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"notification\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\n\r\nconst Person = ({person, handleDeletePerson}) => {\r\n    return (\r\n        <p>\r\n            {person.name} {person.number} <button onClick={handleDeletePerson}>poista</button>\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\n\r\nconst Filter = ({filterValue, onFilterChange}) => {\r\n    return (\r\n        <>\r\n            Rajaa näytettäviä: \r\n            <input\r\n                value={filterValue}\r\n                onChange={onFilterChange} /> \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react';\r\nimport personService from './services/persons';\r\nimport PersonForm from './components/PersonForm'\r\nimport Error from './components/Error'\r\nimport Notification from './components/Notification'\r\nimport Person from './components/Person'\r\nimport Filter from './components/Filter'\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons ] = useState([])\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => setPersons(initialPersons))\r\n    }, [])\r\n\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ newFilter, setNewFilter ] = useState('')\r\n    const [ notificationMessage, setNotificationMessage ] = useState('')\r\n    const [ errorMessage, setErrorMessage ] = useState('')\r\n\r\n    const handleNameChange = (event) =>\r\n        setNewName(event.target.value)\r\n\r\n    const handleNumberChange = (event) =>\r\n        setNewNumber(event.target.value)\r\n\r\n    const handleFilterChange = (event) =>\r\n        setNewFilter(event.target.value)\r\n\r\n    const showNotification = (notification) => {\r\n        setNotificationMessage(notification)\r\n        setTimeout(() => {\r\n            setNotificationMessage(null)\r\n        }, 5000)\r\n    }\r\n\r\n    const showError = (error) => {\r\n        setErrorMessage(error)\r\n        setTimeout(() => {\r\n            setErrorMessage(null)\r\n        }, 5000)\r\n    }\r\n\r\n    const handleDeletePerson = (person) => {\r\n        const result = window.confirm(`Poistetaanko ${person.name}?`)\r\n        \r\n        if (result)\r\n            personService\r\n                .deleteOperation(person.id)\r\n                .then((response) => {\r\n                    setPersons(persons.filter(p => p.id !== person.id))\r\n                    showNotification(`Poistettiin henkilö ${person.name}`)\r\n                })\r\n                .catch((error) => {\r\n                    showError(`Henkilö ${person.name} oli jo poistettu`)\r\n                    setPersons(persons.filter(p => p.id !== person.id))\r\n                })\r\n    }\r\n\r\n    const personsList = () => persons\r\n        .filter(person =>\r\n            person.name.toLowerCase().startsWith(newFilter.toLowerCase()))\r\n        .map(person => \r\n            <Person \r\n                key={person.name} \r\n                person={person} \r\n                handleDeletePerson={() => \r\n                    handleDeletePerson(person)} />)\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        const foundPerson = persons.find((elem) => elem.name === newName)\r\n        if (foundPerson !== undefined) {\r\n            const confirmUpdate = window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)\r\n            if (confirmUpdate)\r\n                personService\r\n                    .update(foundPerson.id, newPerson)\r\n                    .then(updatedPerson => {\r\n                        setPersons(persons.map(person => \r\n                            person.id !== updatedPerson.id ? person : updatedPerson))\r\n                        showNotification(`Muutettiin henkilön ${updatedPerson.name} numeroa`)\r\n                    })\r\n                    .catch((error) => {\r\n                        showError(`Henkilö ${newPerson.name} oli jo poistettu`)\r\n                        setPersons(persons.filter(p => p.id !== foundPerson.id))\r\n                    })\r\n        } else {\r\n            personService.create(newPerson)\r\n                .then(addedPerson => {\r\n                    setPersons(persons.concat(addedPerson))\r\n                    showNotification(`Lisättiin ${addedPerson.name}`)\r\n                })\r\n        }\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Puhelinluettelo</h1>\r\n            <Notification message={notificationMessage} />\r\n            <Error message={errorMessage} />\r\n            <Filter filterValue={newFilter} onFilterChange={handleFilterChange} />\r\n            <h2>Lisää uusi</h2>\r\n            <PersonForm \r\n                onAddPerson={addPerson} \r\n                newNameValue={newName}\r\n                newNumberValue={newNumber}\r\n                onChangeNewName={handleNameChange}\r\n                onChangeNewNumber={handleNumberChange} />\r\n            <h2>Numerot</h2>\r\n            {personsList()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}